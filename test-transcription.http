@baseUrl = http://localhost:5000/api
@lectureId = 69182ad0faf294fc3f48c783
@transcriptId = 6918943a9676f87f95e5cea9
@teacherToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2OTE4Mjk4YjQwMGI0ZDdlZGU0N2QwYmEiLCJ1c2VyVHlwZSI6InRlYWNoZXIiLCJpYXQiOjE3NjMxOTQxMTEsImV4cCI6MTc2Mzc5ODkxMX0.r4hkk3Pr1TOsWBBAIkjl1B-NYC7RICga37LCFyxjV6A

### FLOW: Bước 1 -> Copy transcript_id -> Uncomment @transcriptId -> Paste vào -> Bước 2

### Bước 1: Start Transcription (Tạo transcript record trước)
POST {{baseUrl}}/transcription/start/{{lectureId}}
Authorization: Bearer {{teacherToken}}
Content-Type: application/json

### Bước 2: Upload Audio File
# Upload audio file và bắt đầu transcription process
# TRƯỚC KHI CHẠY: Đảm bảo đã uncomment và điền @transcriptId ở trên
POST {{baseUrl}}/transcription/upload/{{transcriptId}}
Authorization: Bearer {{teacherToken}}
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="audio"; filename="lecture_audio.wav"
Content-Type: audio/wav

< ./lecture_audio.wav
------WebKitFormBoundary7MA4YWxkTrZu0gW--


### Bước 3: Get All Transcripts of a Lecture
# Lấy tất cả transcripts của một lecture (tất cả các lần dạy)
# Kết quả sẽ sorted by created_at desc (mới nhất trước)
GET {{baseUrl}}/transcription/lecture/{{lectureId}}
Authorization: Bearer {{teacherToken}}


### Bước 4: Update Current Page Index
# Update vị trí current page index của lecture
PUT {{baseUrl}}/transcription/{{lectureId}}/currentPageIndex
Authorization: Bearer {{teacherToken}}
Content-Type: application/json

{
  "currentPageIndex": 5
}


### Bước 5: Get Current Page Index
# Lấy current page index của lecture
# Return currentPageIndex nếu không có transcript queued, ngược lại return -1
GET {{baseUrl}}/transcription/{{lectureId}}/currentPageIndex
Authorization: Bearer {{teacherToken}}



#### TEST ASK AI
POST {{baseUrl}}/lectures/webhook/question
Content-Type: application/json

{
  "lectureId": "69182ad0faf294fc3f48c783",
  "question": "Với quốc tế đảm bảo vệ trò chơi tốt, học sinh sẽ phát triển sức khỏe dưới sự giúp đỡ của ai"
}


#### TEST ASK webhook 
POST http://localhost:5678/webhook-test/0be91f5b-a868-4a6b-a8a5-e51f5ca6e1a5
Content-Type: application/json

{
  "lectureId": "69182ad0faf294fc3f48c783",
  "question": "Với quốc tế đảm bảo vệ trò chơi tốt, học sinh sẽ phát triển sức khỏe dưới sự giúp đỡ của ai"
}