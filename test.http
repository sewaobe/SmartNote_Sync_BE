### SmartNote Sync Backend - Happy Case Testing
### Use VS Code REST Client extension to test these endpoints

@baseUrl = http://localhost:5000/api
@classId = 6918298b400b4d7ede47d0bf
@lectureId = 507f1f77bcf86cd799439012
@teacherToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2OTE4MjhiOGI3NDg5NDBmNTdkMTY1ZmEiLCJ1c2VyVHlwZSI6InRlYWNoZXIiLCJpYXQiOjE3NjMxOTMxNzksImV4cCI6MTc2Mzc5Nzk3OX0.e9UBd3VhqAwWoFn5-0PNBcgz6VL7UaeKtYlV1eRZ6MY
@studentId = 6918298b400b4d7ede47d0bc
@noteId = 6918328e81fd453c55de5c3b

# ====================================
# AUTH ENDPOINTS (JWT)
# ====================================

### 1. Login as Teacher
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "teacherA@gv.edu.vn",
  "password": "123456789"
}

### 2. Get Current User (Requires JWT Token)
GET {{baseUrl}}/auth/me
Authorization: Bearer {{teacherToken}}


# ====================================
# LECTURE ENDPOINTS WITH JWT AUTH
# ====================================

### 3. Get Lectures by Class (JWT Required + Authorization Check)
GET {{baseUrl}}/lectures/class/{{classId}}
Authorization: Bearer {{teacherToken}}


### 4. Get Classes (JWT Required)
GET {{baseUrl}}/classes
Authorization: Bearer {{teacherToken}}

### 5. Get Specific Class (JWT Required)
GET {{baseUrl}}/classes/{{classId}}
Authorization: Bearer {{teacherToken}}

# ====================================
# FILE UPLOAD ENDPOINTS
# ====================================

### 8. Upload General File
POST {{baseUrl}}/files/upload
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="file"; filename="Profile.pdf"
Content-Type: application/pdf

< ./Profile.pdf
------WebKitFormBoundary7MA4YWxkTrZu0gW--


### 9. Get Presigned URL for Download
GET {{baseUrl}}/files/presigned/67564a1234567890abcdef01_Profile.pdf


# ====================================
# LECTURE MANAGEMENT
# ====================================

### 10. Create Lecture (Teacher uploads PDF for class)
POST {{baseUrl}}/lectures/create/{{classId}}
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="title"

Lecture 1 - Introduction to Backend
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="file"; filename="lecture1.pdf"
Content-Type: application/pdf

< ./Profile.pdf
------WebKitFormBoundary7MA4YWxkTrZu0gW--


### 11. Get Lecture by ID
GET {{baseUrl}}/lectures/{{lectureId}}


### 12. Delete Lecture
DELETE {{baseUrl}}/lectures/{{lectureId}}


# ====================================
# NOTE ENDPOINTS
# ====================================

### 7. Create Note - HAPPY CASE
POST {{baseUrl}}/notes
Content-Type: application/json

{
  "content": "This is my first note about database design patterns",
  "owner_id": "{{studentId}}",
  "lecture_id": "{{lectureId}}",
  "position": {
    "x": 150,
    "y": 200
  }
}


### 8. Get All Notes
GET {{baseUrl}}/notes


### 9. Get Note by ID
GET {{baseUrl}}/notes/{{noteId}}


### 10. Get Notes by Owner/Student ID
GET {{baseUrl}}/notes/owner/{{studentId}}


### 11. Update Note
PUT {{baseUrl}}/notes/{{noteId}}
Content-Type: application/json

{
  "content": "Updated note - Now with more details about design patterns and best practices"
}

### 12. Search Notes
GET {{baseUrl}}/notes/search?query=database

### 13. Delete Note
DELETE {{baseUrl}}/notes/{{noteId}}